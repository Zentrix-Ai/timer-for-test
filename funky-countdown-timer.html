<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Funky Countdown Timer</title>
  <style>
    :root{
      --glass: rgba(255,255,255,0.08);
      --glass-2: rgba(255,255,255,0.12);
      --accent: rgba(255,255,255,0.9);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial}
    body{
      display:grid;
      place-items:center;
      padding:28px;
      background: linear-gradient(120deg,#ff4d6d 0%, #ff7a00 25%, #6bffd6 55%, #2b6bff 100%);
      background-size: 300% 300%;
      animation: bg 10s linear infinite;
      -webkit-font-smoothing:antialiased;
      color:var(--accent);
    }
    @keyframes bg{
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }

    .card{
      width:min(720px,96%);
      max-width:720px;
      padding:28px;
      border-radius:18px;
      background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      box-shadow: 0 8px 30px rgba(0,0,0,0.25), inset 0 1px 0 rgba(255,255,255,0.02);
      backdrop-filter: blur(8px) saturate(120%);
      border: 1px solid rgba(255,255,255,0.06);
      display:flex;
      gap:20px;
      align-items:center;
      justify-content:space-between;
    }

    .left{
      display:flex;
      flex-direction:column;
      gap:12px;
      min-width:220px;
    }

    h1{
      margin:0;
      font-size:clamp(20px,3vw,28px);
      letter-spacing:0.2px;
      display:flex;
      gap:12px;
      align-items:center;
    }

    .subtitle{
      margin:0;
      font-size:13px;
      opacity:0.9;
    }

    .input-row{
      display:flex;
      gap:8px;
      margin-top:6px;
    }

    input[type="number"], select{
      -webkit-appearance:none;
      appearance:none;
      padding:10px 12px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.06);
      background: rgba(0,0,0,0.18);
      color:var(--accent);
      font-size:15px;
      outline: none;
      width:150px;
    }

    .btn{
      padding:10px 16px;
      border-radius:12px;
      border:none;
      cursor:pointer;
      font-weight:600;
      font-size:15px;
      letter-spacing:0.2px;
      transition:transform .14s ease, box-shadow .14s ease;
      box-shadow: 0 6px 18px rgba(0,0,0,0.25);
      background: linear-gradient(135deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06));
      color:var(--accent);
    }
    .btn:active{transform:translateY(1px) scale(.998)}

    .btn-primary{
      background: linear-gradient(90deg, rgba(0,0,0,0.2), rgba(255,255,255,0.06));
      border: 1px solid rgba(255,255,255,0.08);
    }

    .btn-danger{
      background: linear-gradient(90deg, rgba(255,80,80,0.12), rgba(255,40,40,0.08));
      border: 1px solid rgba(255,80,80,0.12);
    }

    .display{
      flex:1;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .clock{
      background: linear-gradient(180deg, rgba(0,0,0,0.22), rgba(255,255,255,0.02));
      padding:22px 34px;
      border-radius:14px;
      text-align:center;
      min-width:220px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.02);
      border:1px solid rgba(255,255,255,0.04);
    }

    .time{
      font-size:clamp(36px,6vw,68px);
      font-weight:700;
      letter-spacing:1px;
      margin:0;
      color: white;
      text-shadow: 0 6px 30px rgba(0,0,0,0.5);
    }

    .label{
      margin-top:6px;
      font-size:13px;
      color:rgba(255,255,255,0.9);
      opacity:0.95;
    }

    .controls{ display:flex; gap:10px; margin-top:12px; justify-content:center; }

    .small{
      font-size:13px;
      opacity:0.9;
    }

    /* small screen tweak */
    @media (max-width:520px){
      .card{flex-direction:column; gap:14px; padding:20px}
      .input-row{flex-wrap:wrap}
      input[type="number"]{width:100%}
    }
  </style>
</head>
<body>
  <main class="card" role="main" aria-labelledby="title">
    <div class="left">
      <h1 id="title">üéõÔ∏è Funky Countdown Timer</h1>
      <p class="subtitle small">Enter a duration and press <strong>Start</strong>. Timer updates in real-time ‚Äî stop anytime.</p>

      <div class="input-row" aria-hidden="false">
        <label for="timeInput" class="small" style="display:none">Seconds</label>
        <input id="timeInput" type="number" min="1" placeholder="Seconds (e.g. 90)" />
        <select id="unit">
          <option value="s">Seconds</option>
          <option value="m">Minutes</option>
          <option value="h">Hours</option>
        </select>
        <button class="btn btn-primary" id="startBtn" title="Start countdown">Start</button>
        <button class="btn btn-danger" id="stopBtn" title="Stop countdown">Stop</button>
      </div>

      <div style="margin-top:8px" class="small">Tip: use minutes/hours from the dropdown, or type seconds directly.</div>
    </div>

    <div class="display" role="region" aria-live="polite">
      <div class="clock" id="clock">
        <div id="timeText" class="time">00:00</div>
        <div class="label" id="status">Ready</div>
        <div class="controls" style="margin-top:10px">
          <button class="btn" id="add15">+15s</button>
          <button class="btn" id="add60">+1m</button>
          <button class="btn" id="resetBtn">Reset</button>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Simple, robust countdown timer
    let totalSeconds = 0;
    let remaining = 0;
    let timerHandle = null;
    const timeText = document.getElementById('timeText');
    const status = document.getElementById('status');
    const input = document.getElementById('timeInput');
    const unit = document.getElementById('unit');
    const startBtn = document.getElementById('startBtn');
    const stopBtn = document.getElementById('stopBtn');
    const resetBtn = document.getElementById('resetBtn');
    const add15 = document.getElementById('add15');
    const add60 = document.getElementById('add60');

    function formatTime(sec){
      if (sec <= 0) return "00:00";
      const h = Math.floor(sec / 3600);
      const m = Math.floor((sec % 3600) / 60);
      const s = sec % 60;
      if (h > 0){
        return String(h).padStart(2,'0') + ":" + String(m).padStart(2,'0') + ":" + String(s).padStart(2,'0');
      } else {
        return String(m).padStart(2,'0') + ":" + String(s).padStart(2,'0');
      }
    }

    function tick(){
      if (remaining <= 0){
        clearInterval(timerHandle);
        timerHandle = null;
        status.textContent = "‚è∞ Time's up!";
        timeText.textContent = "00:00";
        // flash the background of clock briefly
        flash();
        return;
      }
      remaining--;
      timeText.textContent = formatTime(remaining);
      status.textContent = "Running";
    }

    function start(){
      // If already running, do nothing
      if (timerHandle) return;
      const raw = Number(input.value);
      if (!raw || raw <= 0){
        alert("Please enter a positive number for the duration.");
        return;
      }
      let secs = raw;
      if (unit.value === 'm') secs = raw * 60;
      if (unit.value === 'h') secs = raw * 3600;
      totalSeconds = secs;
      remaining = secs;
      timeText.textContent = formatTime(remaining);
      status.textContent = "Running";
      timerHandle = setInterval(tick, 1000);
    }

    function stop(){
      if (timerHandle){
        clearInterval(timerHandle);
        timerHandle = null;
        status.textContent = "‚è∏Ô∏è Stopped";
      } else {
        status.textContent = "Idle";
      }
    }

    function reset(){
      stop();
      remaining = totalSeconds = 0;
      timeText.textContent = "00:00";
      input.value = '';
      status.textContent = "Ready";
    }

    function flash(){
      const el = document.getElementById('clock');
      el.animate([
        { boxShadow: '0 8px 20px rgba(0,0,0,0.28), 0 0 0 0 rgba(255,255,255,0)'},
        { boxShadow: '0 8px 20px rgba(0,0,0,0.28), 0 0 0 14px rgba(255,255,255,0.08)'},
        { boxShadow: '0 8px 20px rgba(0,0,0,0.28), 0 0 0 0 rgba(255,255,255,0)'}
      ], { duration: 700 });
    }

    startBtn.addEventListener('click', start);
    stopBtn.addEventListener('click', stop);
    resetBtn.addEventListener('click', reset);

    add15.addEventListener('click', () => {
      // add 15 seconds to remaining (or set to 15 if 0)
      if (!remaining) remaining = 15;
      else remaining += 15;
      timeText.textContent = formatTime(remaining);
      status.textContent = timerHandle ? "Running" : "Ready";
    });
    add60.addEventListener('click', () => {
      if (!remaining) remaining = 60;
      else remaining += 60;
      timeText.textContent = formatTime(remaining);
      status.textContent = timerHandle ? "Running" : "Ready";
    });

    // Stop timer when page hidden (optional)
    document.addEventListener('visibilitychange', ()=>{
      if (document.hidden && timerHandle){
        // no action ‚Äî we keep running; timers pause in inactive tabs anyway
      }
    });

    // allow enter key to start
    input.addEventListener('keydown', (e)=>{
      if (e.key === 'Enter') start();
    });

    // initialize
    timeText.textContent = "00:00";
    status.textContent = "Ready";
  </script>
</body>
</html>
